{"version":3,"file":"js/app.3f589e6e.js","mappings":"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","sources":["webpack://demo/./src/App.vue","webpack://demo/./src/services/userClassificationService.js","webpack://demo/./src/services/webgazerService.js","webpack://demo/src/App.vue","webpack://demo/./src/App.vue?c036","webpack://demo/./src/App.vue?0e40","webpack://demo/./src/main.js","webpack://demo/webpack/bootstrap","webpack://demo/webpack/runtime/amd options","webpack://demo/webpack/runtime/chunk loaded","webpack://demo/webpack/runtime/compat get default export","webpack://demo/webpack/runtime/define property getters","webpack://demo/webpack/runtime/global","webpack://demo/webpack/runtime/hasOwnProperty shorthand","webpack://demo/webpack/runtime/make namespace object","webpack://demo/webpack/runtime/node module decorator","webpack://demo/webpack/runtime/jsonp chunk loading","webpack://demo/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('video',{staticStyle:{\"position\":\"fixed\",\"top\":\"10px\",\"left\":\"10px\",\"z-index\":\"1000\",\"display\":\"none\",\"border\":\"2px solid #2c3e50\",\"border-radius\":\"8px\"},attrs:{\"id\":\"webgazerVideoFeed\"}}),_c('div',{staticClass:\"g-area\"},[_vm._v(\"G区域\")]),_c('div',{staticClass:\"container\"},[_c('div',{ref:\"boxA\",staticClass:\"box box-a\"},[_vm._v(\"区域A\")]),_c('div',{ref:\"boxC\",staticClass:\"box box-c\"},[_vm._v(\"区域C\")]),_c('div',{ref:\"boxB\",staticClass:\"box box-b\"},[_vm._v(\"区域B\")])]),_c('div',{ref:\"boxF\",staticClass:\"box box-f\"},[_vm._v(\"区域F\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * 用户分类服务 - 基于眼动追踪数据将用户分为三类:\n * 1. 直接型(Direct)\n * 2. 对照型(Referential) \n * 3. 探索型(Exploratory)\n */\n\nexport class UserClassificationService {\n  /**\n   * 重置缩放状态 - 将所有区域缩放还原到默认值(1.0)\n   */\n  /**\n   * 放大指定区域\n   * @param {string} area - 要放大的区域标识符(a/b/c/f)\n   * @param {number} [scale=1.5] - 缩放比例(默认1.5倍)\n   */\n  zoomArea(area, scale = 1.5) {\n    try {\n      // 增强区域验证（包含所有有效区域）\n      const validAreas = {\n        'a': '左侧任务区',\n        'b': '右上提示区',\n        'c': '中央代码区',\n        'g': '顶部',\n        'f': '底部工具条',\n      };\n\n      if (!(area in validAreas)) {\n        const errorMsg = `非法区域: ${area}, 有效区域: ${Object.keys(validAreas).join(', ')}`;\n        console.error(errorMsg);\n        throw new Error(errorMsg);\n      }\n\n      // 确保回调函数已设置\n      if (!this.onZoomChange) {\n        console.warn('onZoomChange回调未设置，使用默认回调');\n        this.onZoomChange = (state) => {\n          console.log('默认zoom回调:', state);\n          if (window.updateZoomState) {\n            window.updateZoomState(state);\n          }\n        };\n      }\n\n      // 先重置所有区域\n      this.resetZoom();\n\n      // 设置目标区域缩放\n      this.zoomState[area] = scale;\n      console.log(`区域 ${area} 已放大 ${scale} 倍`);\n\n      // 确保触发UI更新\n      if (typeof this.onZoomChange === 'function') {\n        this.onZoomChange({\n          zoomedArea: area,\n          zoomState: this.zoomState,\n          timestamp: Date.now()\n        });\n      } else {\n        console.warn('onZoomChange回调不是函数，无法触发UI更新');\n      }\n\n      return this.zoomState; // 确保返回缩放状态\n    } catch (error) {\n      console.error('缩放区域时出错:', error);\n      throw error; // 重新抛出错误\n    }\n  }\n\n  resetZoom() {\n    // 重置所有区域的缩放状态（包含所有区域）\n    this.zoomState = {\n      a: 1.0,\n      b: 1.0,\n      c: 1.0,\n      f: 1.0,\n      g: 1.0\n    };\n    console.log('所有区域缩放已重置为默认值');\n\n    // 触发UI更新\n    if (this.onZoomReset) {\n      this.onZoomReset(this.zoomState);\n    }\n\n    return this.zoomState;\n  }\n\n  constructor() {\n    // 初始化缩放状态和回调（包含所有区域）\n    this.zoomState = {\n      a: 1.0,\n      b: 1.0,\n      c: 1.0,\n      f: 1.0,\n      g: 1.0\n    };\n\n    // 设置默认回调\n    this.onZoomChange = (state) => {\n      console.log('默认zoom回调:', state);\n      if (window.updateZoomState) {\n        window.updateZoomState(state);\n      }\n    };\n\n    this.onZoomReset = (state) => {\n      console.log('默认zoom重置回调:', state);\n      if (window.updateZoomState) {\n        window.updateZoomState(state);\n      }\n    };\n\n    // 24寸屏幕配置 (1920x1080分辨率)\n    this.screenConfig = {\n      diagonalInches: 24,\n      resolution: { width: 3840, height: 2160 },\n      ppi: 92, // 像素每英寸\n      aoiRatios: {\n        a: 0.2, // 左栏20%\n        c: 0.6, // 中栏60%\n        bf: 0.2, // 右栏20%\n        g: 0    // 非任务区不参与面积归一化\n      }\n    };\n\n    // 防抖状态\n    this.confirmationState = {\n      direct: 0,\n      referential: 0,\n      exploratory: 0,\n      lastConfirmedType: null\n    };\n\n    // 默认阈值配置\n    this.config = {\n      windowSize: 5000, // 5秒窗口\n      entropyThresholds: {\n        low: 1.2,\n        high: 1.8\n      },\n      coverageThresholds: {\n        directMax: 2,\n        referentialMin: 2,\n        referentialMax: 3,\n        exploratoryMin: 3\n      },\n      gazeDurationThresholds: {\n        short: 200, // 毫秒\n        long: 500   // 毫秒\n      },\n      saccadeThresholds: {\n        // 基于24寸屏幕物理尺寸调整(约0.5-1.5英寸扫视)\n        small: 50,  // ~0.5英寸\n        medium: 150, // ~1.5英寸\n        large: 300   // ~3英寸\n      },\n      confirmationWindows: 2 // 防抖需要连续2个窗口确认\n    };\n\n    // 当前窗口数据\n    this.currentWindow = {\n      startTime: null,\n      gazeData: [],\n      aoiStats: {\n        a: { count: 0, duration: 0 },\n        b: { count: 0, duration: 0 },\n        c: { count: 0, duration: 0 },\n        f: { count: 0, duration: 0 },\n        g: { count: 0, duration: 0 }\n      },\n      saccadeAmplitudes: []\n    };\n  }\n\n\n  /**\n   * 添加新的注视点数据\n   * @param {Object} data - 注视点数据\n   * @param {number} data.x - 屏幕x坐标\n   * @param {number} data.y - 屏幕y坐标\n   * @param {string} data.aoi - 注视区域(A/B/C/F/G)\n   * @param {number} data.duration - 注视持续时间(ms)\n   * @param {number} timestamp - 时间戳\n   * @returns {Object|null} 分类结果(经过防抖确认后)\n   */\n  addGazePoint(data, timestamp) {\n    // 添加时间戳到数据中\n    data.timestamp = timestamp;\n\n    if (!this.currentWindow.startTime) {\n      this.currentWindow.startTime = timestamp;\n    }\n\n    // 确定AOI区域(考虑24寸屏幕布局)\n    if (!data.aoi) {\n      data.aoi = this.determineAOI(data.x, data.y);\n    }\n\n    // 记录AOI统计\n    if (this.currentWindow.aoiStats[data.aoi]) {\n      this.currentWindow.aoiStats[data.aoi].count++;\n      this.currentWindow.aoiStats[data.aoi].duration += data.duration;\n    }\n\n    // 记录扫视幅度(如果这是第二个及以后的注视点)\n    if (this.currentWindow.gazeData.length > 0) {\n      const lastValidPoint = this.currentWindow.gazeData\n        .slice()\n        .reverse()\n        .find(g => g.timestamp > timestamp - 2000); // 只考虑2秒内的注视点\n\n      if (lastValidPoint) {\n        const amplitude = Math.sqrt(\n          Math.pow(data.x - lastValidPoint.x, 2) +\n          Math.pow(data.y - lastValidPoint.y, 2)\n        );\n        this.currentWindow.saccadeAmplitudes.push(amplitude);\n      }\n    }\n\n    this.currentWindow.gazeData.push(data);\n    // 严格5秒窗口控制\n    const now = timestamp;\n    if (!this.currentWindow.startTime) {\n      this.currentWindow.startTime = now;\n      return null; // 首次不分析\n    }\n\n    const windowDuration = now - this.currentWindow.startTime;\n    if (windowDuration < this.config.windowSize) {\n      console.log(`严格等待5秒: ${windowDuration / 1000}s/5s`);\n      return null;\n    }\n\n    // 5秒窗口已满，执行分析\n    console.log('5秒窗口已满，开始分析');\n    const result = this.classifyUser();\n    console.log('分类结果:', JSON.stringify(result, null, 2));\n\n    // 完全重置窗口（不清除回调）\n    this.currentWindow = {\n      startTime: now, // 重置为新时间点\n      gazeData: [],\n      aoiStats: {\n        a: { count: 0, duration: 0 },\n        b: { count: 0, duration: 0 },\n        c: { count: 0, duration: 0 },\n        f: { count: 0, duration: 0 },\n        g: { count: 0, duration: 0 }\n      },\n      saccadeAmplitudes: []\n    };\n\n    return result;\n    // return null;\n  }\n\n  /**\n   * 根据坐标确定AOI区域\n   * @param {number} x - 屏幕x坐标\n   * @param {number} y - 屏幕y坐标\n   * @returns {string} AOI标识符(A/B/C/F/G)\n   */\n  determineAOI(x, y) {\n    const screenWidth = this.screenConfig.resolution.width;\n    const aWidth = screenWidth * this.screenConfig.aoiRatios.a;\n    const cWidth = screenWidth * this.screenConfig.aoiRatios.c;\n\n    if (x < aWidth) return 'a';\n    if (x < aWidth + cWidth) return 'c';\n    return y < this.screenConfig.resolution.height / 2 ? 'b' : 'f';\n  }\n\n  /**\n   * 分类用户并返回结果(带防抖确认)\n   * @returns {Object|null} 分类结果(经过防抖确认后)\n   */\n  classifyUser() {\n    // 计算各AOI的注视占比（安全版）\n    const totalGazeCount = Object.values(this.currentWindow.aoiStats)\n      .reduce((sum, stat) => sum + (stat?.count || 0), 0) || 1; // 避免除以0\n\n    const totalGazeDuration = Object.values(this.currentWindow.aoiStats)\n      .reduce((sum, stat) => sum + (stat?.duration || 0), 0) || 1; // 避免除以0\n\n    const aoiProportions = {};\n    for (const [aoi, stat] of Object.entries(this.currentWindow.aoiStats)) {\n      aoiProportions[aoi] = {\n        countProportion: (stat?.count || 0) / totalGazeCount,\n        durationProportion: (stat?.duration || 0) / totalGazeDuration,\n        rawCount: stat?.count || 0,\n        rawDuration: stat?.duration || 0\n      };\n    }\n    console.log('AOI比例计算结果:', JSON.stringify(aoiProportions, null, 2));\n\n    // 计算扫视幅度中位数\n    const medianSaccade = this.calculateMedian(this.currentWindow.saccadeAmplitudes);\n\n    // 计算AOI熵\n    const entropy = this.calculateEntropy(\n      Object.values(aoiProportions).map(p => p.countProportion)\n    );\n\n    // 计算覆盖的AOI数量\n    const coverage = Object.values(aoiProportions)\n      .filter(p => p.countProportion > 0.05).length;\n\n    // 计算注视时长中位数\n    const gazeDurations = this.currentWindow.gazeData.map(g => g.duration);\n    const medianGazeDuration = this.calculateMedian(gazeDurations);\n\n    // 计算面积归一化密度(d指标)\n    const densityMetrics = {\n      a: aoiProportions.a.countProportion / this.screenConfig.aoiRatios.a,\n      c: aoiProportions.c.countProportion / this.screenConfig.aoiRatios.c,\n      b: aoiProportions.b.countProportion / (this.screenConfig.aoiRatios.bf / 2),\n      f: aoiProportions.f.countProportion / (this.screenConfig.aoiRatios.bf / 2)\n    };\n\n    // 分类逻辑 - 按照新的分类标准\n    let userType = 'unknown';\n    // 1. 检查直接型(Direct) - 根据新标准：注视时长中位数≥260ms、扫视幅度≤54.3px、注视点分布区域数量≤2\n    if (\n      medianGazeDuration >= 260 && // 注视时长中位数 ≥ 260ms\n      medianSaccade <= 54.3 && // 扫视幅度 ≤ 54.3 px\n      coverage <= 2 // 注视点分布区域数量 ≤ 2\n    ) {\n      console.log('满足直接型条件:', {\n        medianGazeDuration,\n        medianSaccade,\n        coverage\n      });\n      alert('直接型');\n      userType = 'direct';\n    }\n    // 2. 检查对照型(Referential) - 根据新标准：注视时长中位数180-260ms、扫视幅度54.3-126.7px、注视点分布区域数量2-3\n    else if (\n      medianGazeDuration >= 180 && medianGazeDuration < 260 && // 注视时长中位数 180-260ms\n      medianSaccade > 54.3 && medianSaccade < 126.7 && // 扫视幅度 54.3-126.7 px\n      coverage >= 2 && coverage <= 3 // 注视点分布区域数量 2-3\n    ) {\n      alert('对照型');\n      userType = 'referential';\n    }\n    // 3. 检查探索型(Exploratory) - 根据新标准：注视时长中位数≤180ms、扫视幅度≥126.7px、注视点分布区域数量≥3\n    else if (\n      medianGazeDuration <= 180 && // 注视时长中位数 ≤ 180ms\n      medianSaccade >= 126.7 && // 扫视幅度 ≥ 126.7 px\n      coverage >= 3 // 注视点分布区域数量 ≥ 3\n    ) {\n      alert('探索型');\n      userType = 'exploratory';\n    }\n    \n    console.log('分类结果判定依据:', {\n      userType,\n      medianGazeDuration,\n      medianSaccade,\n      coverage\n    });\n\n    // 保存最后一次分类统计\n    this.lastClassificationStats = {\n      medianSaccade,\n      entropy,\n      coverage,\n      medianGazeDuration,\n      aoiProportions,\n      densityMetrics,\n      gazeCount: totalGazeCount\n    };\n\n    // 准备结果对象（增强版）\n    const result = {\n      userType: userType || 'unknown',\n      zoomedArea: null,\n      stats: {\n        medianSaccade,\n        entropy,\n        coverage,\n        medianGazeDuration,\n        aoiProportions,\n        densityMetrics,\n        gazeCount: totalGazeCount,\n        windowDuration: Date.now() - this.currentWindow.startTime\n      },\n      uiRecommendation: this.getUIRecommendation(userType),\n      timestamp: new Date().toISOString(),\n      // 调试信息\n      _diagnostics: {\n        cProportion: aoiProportions.c?.countProportion,\n        cDuration: aoiProportions.c?.rawDuration,\n        totalDuration: totalGazeDuration\n      }\n    };\n\n    // 确保回调函数设置\n    if (!this.onZoomChange) {\n      this.onZoomChange = (state) => {\n        console.log('Zoom状态变化:', state);\n        // 确保UI能收到更新\n        if (window.updateZoomState) {\n          window.updateZoomState(state);\n        } else {\n          console.warn('window.updateZoomState 未定义，请确保UI监听器已设置');\n        }\n      };\n      console.log('已设置默认zoom回调函数');\n    }\n\n    // 即使未分类也返回结果，但添加详细诊断信息\n    if (userType !== 'unknown') {\n      console.log('检测到用户类型:', userType, '详细统计:', {\n        proportions: aoiProportions,\n        saccade: medianSaccade,\n        entropy: entropy,\n        coverage: coverage,\n        gazeDuration: medianGazeDuration\n      });\n      this.confirmationState.lastConfirmedType = userType;\n\n      // 准确找出注视时长最长的有效区域\n      const validAreas = ['a', 'b', 'c', 'f'];\n      let maxDurationEntry = null;\n\n      try {\n        maxDurationEntry = Object.entries(this.currentWindow.aoiStats)\n          .filter(([area]) => validAreas.includes(area))\n          .reduce((a, b) => {\n            if (!a[1] || !b[1]) return a; // 防止空数据\n            return a[1].duration > b[1].duration ? a : b;\n          });\n      } catch (error) {\n        console.error('计算注视时长时出错:', error);\n      }\n\n      if (maxDurationEntry && maxDurationEntry[1].duration > 0) {\n        result.zoomedArea = maxDurationEntry[0];\n        console.log(`将放大注视最久的区域: ${result.zoomedArea} (时长: ${maxDurationEntry[1].duration}ms)`);\n\n        // 立即执行放大操作\n        this.zoomArea(result.zoomedArea);\n      } else {\n        console.log('无显著注视区域，保持默认');\n        this.resetZoom();\n      }\n    } else {\n      // 详细诊断日志\n      console.log('未分类诊断详情:', {\n        thresholds: {\n          direct: {\n            medianGazeDuration: 260,\n            medianSaccade: 54.3,\n            coverage: 2\n          },\n          referential: {\n            medianGazeDurationLow: 180,\n            medianGazeDurationHigh: 260,\n            medianSaccadeLow: 54.3,\n            medianSaccadeHigh: 126.7,\n            coverageLow: 2,\n            coverageHigh: 3\n          },\n          exploratory: {\n            medianGazeDuration: 180,\n            medianSaccade: 126.7,\n            coverage: 3\n          }\n        },\n        actualValues: {\n          medianGazeDuration,\n          medianSaccade,\n          coverage\n        },\n        metConditions: {\n          direct: medianGazeDuration >= 260 && \n            medianSaccade <= 54.3 && \n            coverage <= 2,\n          referential: medianGazeDuration >= 180 && \n            medianGazeDuration < 260 && \n            medianSaccade > 54.3 && \n            medianSaccade < 126.7 && \n            coverage >= 2 && \n            coverage <= 3,\n          exploratory: medianGazeDuration <= 180 && \n            medianSaccade >= 126.7 && \n            coverage >= 3\n        }\n      });\n      this.resetZoom();\n\n      // 如果没有满足任何类型，返回注视时长最长的区域\n      const validAreas = ['a', 'b', 'c', 'f'];\n      const maxDurationEntry = Object.entries(this.currentWindow.aoiStats)\n        .filter(([area]) => validAreas.includes(area))\n        .reduce((a, b) => a[1].duration > b[1].duration ? a : b, [null, { duration: 0 }]);\n\n      if (maxDurationEntry[0] && maxDurationEntry[1].duration > 0) {\n        result.zoomedArea = maxDurationEntry[0];\n        console.log(`自动选择注视最久的区域: ${result.zoomedArea} (时长: ${maxDurationEntry[1].duration}ms)`);\n        this.zoomArea(result.zoomedArea);\n      }\n    }\n\n    // 重置窗口数据\n    this.resetWindow();\n    for (const type in this.confirmationState) {\n      this.confirmationState[type] = 0;\n    }\n\n    return result;\n  }\n\n  // 保留当前窗口数据继续累积\n  // console.log('保持当前窗口继续累积数据');\n  // return null;\n  // }\n\n  /**\n   * 计算熵值\n   * @param {Array<number>} proportions - 各AOI的注视比例数组\n   * @returns {number} 熵值\n   */\n  calculateEntropy(proportions) {\n    return -proportions.reduce((sum, p) => {\n      return p > 0 ? sum + p * Math.log2(p) : sum;\n    }, 0);\n  }\n\n  /**\n   * 计算中位数\n   * @param {Array<number>} values - 数值数组\n   * @returns {number} 中位数\n   */\n  calculateMedian(values) {\n    if (values.length === 0) return 0;\n\n    const sorted = [...values].sort((a, b) => a - b);\n    const middle = Math.floor(sorted.length / 2);\n\n    return sorted.length % 2 === 0\n      ? (sorted[middle - 1] + sorted[middle]) / 2\n      : sorted[middle];\n  }\n\n  /**\n   * 获取UI调整建议\n   * @param {string} userType - 用户类型\n   * @returns {Object} UI建议\n   */\n  getUIRecommendation(userType) {\n    switch (userType) {\n      case 'direct':\n        return {\n          layout: 'focus',\n          description: '简化界面，突出代码编辑区',\n          components: {\n            taskPanel: { visible: true, collapsed: true },\n            outputPanel: { visible: false }\n          }\n        };\n      case 'referential':\n        return {\n          layout: 'balanced',\n          description: '保持三栏布局，确保参考信息可见',\n          components: {\n            taskPanel: { visible: true, collapsed: false },\n            outputPanel: { visible: true, split: 'vertical' }\n          }\n        };\n      case 'exploratory':\n        return {\n          layout: 'guided',\n          description: '提供更多引导和文档链接',\n          components: {\n            taskPanel: { visible: true, collapsed: false },\n            outputPanel: { visible: true, split: 'horizontal' }\n          }\n        };\n      default:\n        return {\n          layout: 'default',\n          description: '保持当前UI布局',\n          components: {}\n        };\n    }\n  }\n\n  /**\n   * 重置当前窗口数据\n   */\n  resetWindow() {\n    const newWindow = {\n      startTime: null,\n      gazeData: [],\n      aoiStats: {\n        a: { count: 0, duration: 0 },\n        b: { count: 0, duration: 0 },\n        c: { count: 0, duration: 0 },\n        f: { count: 0, duration: 0 },\n        g: { count: 0, duration: 0 }\n      },\n      saccadeAmplitudes: []\n    };\n\n    // 迁移未过期的数据\n    if (this.currentWindow.gazeData.length > 0) {\n      const now = Date.now();\n      const validData = this.currentWindow.gazeData.filter(\n        g => now - g.timestamp < this.config.windowSize\n      );\n\n      if (validData.length > 0) {\n        newWindow.startTime = validData[0].timestamp;\n        newWindow.gazeData = validData;\n\n        // 重新计算统计\n        validData.forEach(data => {\n          if (newWindow.aoiStats[data.aoi]) {\n            newWindow.aoiStats[data.aoi].count++;\n            newWindow.aoiStats[data.aoi].duration += data.duration;\n          }\n        });\n      }\n    }\n\n    this.currentWindow = newWindow;\n    console.log('窗口已重置，保留未过期数据:', newWindow.gazeData.length);\n  }\n  /**\n   * 获取最后一次分类结果\n   * @returns {Object|null} 最后一次完整的分类结果\n   */\n  getLastClassification() {\n    if (!this.confirmationState.lastConfirmedType) {\n      return null;\n    }\n\n    return {\n      userType: this.confirmationState.lastConfirmedType,\n      timestamp: new Date().toISOString(),\n      stats: this.lastClassificationStats || {}\n    };\n  }\n}\n\n// 导出单例实例\nexport const userClassificationService = new UserClassificationService();\n","class WebGazerService {\n  constructor() {\n    this.isInitialized = false;\n    this.retryCount = 0;\n    this.maxRetries = 3;\n  }\n\n  async init() {\n    try {\n      // 动态加载WebGazer脚本\n      await this.loadScript();\n\n      // 初始化WebGazer\n      await webgazer\n        .setRegression('ridge')\n        .setTracker('clmtrackr')\n        .begin();\n\n      this.isInitialized = true;\n      return true;\n    } catch (error) {\n      console.error('WebGazer初始化失败:', error);\n      if (this.retryCount < this.maxRetries) {\n        this.retryCount++;\n        console.log(`正在重试初始化 (${this.retryCount}/${this.maxRetries})`);\n        return new Promise(resolve => {\n          setTimeout(async () => {\n            resolve(await this.init());\n          }, 2000);\n        });\n      }\n      throw error;\n    }\n  }\n\n  loadScript() {\n    return new Promise((resolve, reject) => {\n      if (typeof webgazer !== 'undefined') return resolve();\n\n      const script = document.createElement('script');\n      script.src = 'https://webgazer.cs.brown.edu/webgazer.js';\n      script.onload = resolve;\n      script.onerror = reject;\n      document.head.appendChild(script);\n    });\n  }\n}\n\nexport const webgazerService = new WebGazerService();","<template>\n  <div id=\"app\">\n    <!-- 添加摄像头视频显示 -->\n    <video id=\"webgazerVideoFeed\" style=\"position: fixed; top: 10px; left: 10px; z-index: 1000; display: none; border: 2px solid #2c3e50; border-radius: 8px;\"></video>\n    <div class=\"g-area\">G区域</div>\n    <div class=\"container\">\n      <div class=\"box box-a\" ref=\"boxA\">区域A</div>\n      <div class=\"box box-c\" ref=\"boxC\">区域C</div>\n      <div class=\"box box-b\" ref=\"boxB\">区域B</div>\n    </div>\n    <div class=\"box box-f\" ref=\"boxF\">区域F</div>\n    <!-- <div class=\"stats\">\n      <p>注视统计 (5秒内):</p>\n      <p>A区域: {{ gazeDuration.a }}ms</p>\n      <p>B区域: {{ gazeDuration.b }}ms</p>\n      <p>C区域: {{ gazeDuration.c }}ms</p>\n      <p>F区域: {{ gazeDuration.f }}ms</p>\n      <p>G区域: {{ gazeDuration.g }}ms</p>\n      <p v-if=\"loading\" style=\"color: #f39c12;\">正在初始化眼动跟踪...</p>\n    </div> -->\n    <!-- <div class=\"user-type\" :class=\"userType\">\n      <p v-if=\"userType === 'direct'\">用户类型: 直接型 (Direct)</p>\n      <p v-else-if=\"userType === 'referential'\">用户类型: 对照型 (Referential)</p>\n      <p v-else-if=\"userType === \n      'exploratory'\">用户类型: 探索型 (Exploratory)</p>\n      <p v-else>用户类型: 未确定</p>\n    </div> -->\n\n    <!-- <div class=\"bottom-toolbar\">\n      <div class=\"stat-details\" v-if=\"stats\">\n        <div class=\"stat-item\">\n          <span class=\"stat-label\">扫视幅度:</span>\n          <span>{{ stats.medianSaccade.toFixed(1) }}px</span>\n        </div>\n        <div class=\"stat-item\">\n          <span class=\"stat-label\">AOI熵:</span>\n          <span>{{ stats.entropy.toFixed(2) }}</span>\n        </div>\n        <div class=\"stat-item\">\n          <span class=\"stat-label\">覆盖区域:</span>\n          <span>{{ stats.coverage }}</span>\n        </div>\n        <div class=\"stat-item\">\n          <span class=\"stat-label\">注视时长:</span>\n          <span>{{ stats.medianGazeDuration.toFixed(1) }}ms</span>\n        </div>\n        <div class=\"stat-item\">\n          <span class=\"stat-label\">注视点数量:</span>\n          <span>{{ stats.gazeCount }}</span>\n        </div>\n      </div>\n    </div> -->\n  </div>\n</template>\n\n<script>\nimport { userClassificationService } from \"./services/userClassificationService\";\nimport { webgazerService } from \"./services/webgazerService\";\n\nexport default {\n  name: \"App\",\n  components: {},\n  data() {\n    return {\n      gazeDuration: { a: 0, b: 0, c: 0, f: 0, g: 0 }, // 记录10秒内的注视总时长\n      gazeStartTime: { a: null, b: null, c: null, f: null, g: null }, // 记录开始注视时间\n      currentZoom: null,\n      loading: false,\n      gazeTimer: null,\n      userType: null, // 当前用户类型\n      userTypeHistory: [], // 用户类型历史记录\n      stats: {\n        // 初始化默认统计信息\n        medianSaccade: 0,\n        entropy: 0,\n        coverage: \"0%\",\n        medianGazeDuration: 0,\n        gazeCount: 0,\n      },\n    };\n  },\n  mounted() {\n    // 添加调试信息\n    console.log(\"App组件已挂载\");\n\n    // 设置缩放状态监听\n    window.updateZoomState = (state) => {\n      console.log(\"收到缩放状态更新:\", state);\n      this.$nextTick(() => {\n        this.zoomArea(state.zoomedArea);\n      });\n    };\n\n    if (this.setupEyeTracking) {\n      this.setupEyeTracking();\n    } else {\n      console.error(\"setupEyeTracking方法未定义\");\n    }\n  },\n  beforeUnmount() {\n    if (this.gazeTimer) clearInterval(this.gazeTimer);\n    webgazer.clearGazeListener();\n    webgazer.stopVideo();\n    webgazer.stop();\n  },\n  methods: {\n    async setupEyeTracking() {\n      try {\n        console.log(\"开始初始化眼动跟踪...\");\n        this.loading = true;\n\n        // 使用webgazerService初始化\n        await webgazerService.init();\n\n        // 设置视频显示\n        const video = document.getElementById(\"webgazerVideoFeed\");\n        video.style.display = \"block\";\n        video.style.position = \"fixed\";\n        video.style.top = \"10px\";\n        video.style.left = \"10px\";\n        video.style.zIndex = \"1000\";\n        video.style.border = \"2px solid #2c3e50\";\n        video.style.borderRadius = \"8px\";\n        video.width = 320;\n        video.height = 240;\n\n        // 设置注视监听\n        webgazer.setGazeListener((data, elapsedTime) => {\n          if (data) {\n            console.log(\"检测到注视点:\", data);\n            this.checkGazePosition(data.x, data.y);\n            this.loading = false;\n\n            // 只有在获取到眼动数据后才启动定时器\n            if (!this.gazeTimer) {\n              console.log(\"启动5秒统计定时器...\");\n              this.gazeTimer = setInterval(() => {\n                console.log(\"5秒统计周期触发\");\n                this.determineZoomArea();\n              }, 5000);\n            }\n          }\n        });\n      } catch (err) {\n        console.error(\"眼动跟踪初始化失败:\", err);\n        this.showErrorNotification(err);\n        this.loading = false;\n      }\n    },\n\n    showErrorNotification(error) {\n      this.$notify.error({\n        title: \"眼动跟踪初始化失败\",\n        message: `原因: ${error.message}`,\n        duration: 0,\n        showClose: true,\n      });\n    },\n    checkGazePosition(x, y) {\n      const now = Date.now();\n\n      // 确保DOM元素存在\n      if (!this.$refs.boxA || !this.$refs.boxB || !this.$refs.boxC) {\n        console.error(\"区域元素未找到\");\n        return;\n      }\n\n      // 使用try-catch处理可能的错误\n      let boxes = {};\n      try {\n        boxes = {\n          a: this.$refs.boxA.getBoundingClientRect(),\n          b: this.$refs.boxB.getBoundingClientRect(),\n          c: this.$refs.boxC.getBoundingClientRect(),\n        };\n      } catch (error) {\n        console.error(\"获取元素位置失败:\", error);\n        return;\n      }\n\n      // 检查注视区域\n      let currentAOI = \"g\"; // 默认为非任务区(G)\n      for (const [area, box] of Object.entries(boxes)) {\n        if (\n          x >= box.left &&\n          x <= box.right &&\n          y >= box.top &&\n          y <= box.bottom\n        ) {\n          currentAOI = area;\n          break;\n        }\n      }\n\n      // 记录注视数据\n      if (currentAOI !== \"g\") {\n        // 记录开始注视时间\n        if (!this.gazeStartTime[currentAOI]) {\n          this.gazeStartTime[currentAOI] = now;\n          console.log(`开始注视区域 ${currentAOI}`);\n        }\n\n        // 累计注视时间\n        const duration = now - (this.gazeStartTime[currentAOI] || now);\n        this.gazeDuration[currentAOI] += duration;\n        this.gazeStartTime[currentAOI] = now;\n        console.log(\n          `区域 ${currentAOI} 累计注视时间: ${this.gazeDuration[currentAOI]}ms`\n        );\n\n        // 添加分类数据并确保响应式更新\n        const result = userClassificationService.addGazePoint(\n          {\n            x,\n            y,\n            aoi: currentAOI,\n            duration,\n          },\n          now\n        );\n\n        if (result) {\n          // alert(\"result的值是: \" + JSON.stringify(result));\n          // 使用Vue.set确保响应式更新\n          this.$set(this, \"userType\", result.userType);\n          this.$set(this, \"stats\", result.stats);\n          this.userTypeHistory.push(result);\n          // alert(\"当前用户分类: \" + result.userType);\n          console.log(\"用户分类结果:\", {\n            type: result.userType,\n            stats: result.stats,\n            zoomArea: result.zoomedArea,\n          });\n\n          // 强制更新UI\n          this.$forceUpdate();\n        }\n      } else {\n        // 处理非任务区注视\n        const result = userClassificationService.addGazePoint(\n          {\n            x,\n            y,\n            aoi: \"g\",\n            duration: 100, // 默认非任务区注视时长\n          },\n          now\n        );\n\n        if (result) {\n          this.userType = result.userType;\n          this.stats = result.stats;\n          this.userTypeHistory.push(result);\n          console.log(\"用户分类结果:\", result);\n        }\n      }\n\n      // 离开区域时重置计时\n      for (const area of [\"a\", \"b\", \"c\", \"f\"]) {\n        if (currentAOI !== area && this.gazeStartTime[area]) {\n          console.log(`离开区域 ${area}`);\n          this.gazeStartTime[area] = null;\n        }\n      }\n    },\n    determineZoomArea() {\n      console.log(\"5秒统计周期结束，开始分析注视数据\");\n      // 从服务获取最新分类结果\n      const result = userClassificationService.getLastClassification();\n\n      if (result) {\n        this.$set(this, \"userType\", result.userType);\n        this.$set(this, \"stats\", result.stats);\n\n        // 根据用户类型决定放大策略\n        if (result.userType === \"direct\") {\n          this.zoomArea(\"c\");\n        } else if (result.userType === \"referential\") {\n          const maxArea = Object.entries(this.gazeDuration).reduce((a, b) =>\n            a[1] > b[1] ? a : b\n          )[0];\n          if (this.gazeDuration[maxArea] > 0) {\n            this.zoomArea(maxArea);\n          }\n        } else {\n          userClassificationService.resetZoom();\n        }\n      }\n      //\n\n      // 重置统计\n      this.gazeDuration = { a: 0, b: 0, c: 0, f: 0, g: 0 };\n      console.log(\"已重置注视时间统计\");\n    },\n    zoomArea(area) {\n      if (!area) {\n        console.log(\"重置所有区域缩放\");\n        this.resetAllZoom();\n        return;\n      }\n\n      console.log(`准备放大区域 ${area}`);\n\n      // 重置所有区域样式\n      this.resetAllZoom();\n\n      // 放大指定区域\n      const box = this.$refs[`box${area.toUpperCase()}`];\n      if (box) {\n        box.style.transform = \"scale(1.5)\";\n        box.style.zIndex = \"10\"; // 确保放大区域在最上层\n        box.style.transition = \"transform 0.3s ease\";\n        console.log(`已放大区域 ${area}`);\n        this.currentZoom = area;\n      } else {\n        console.error(`找不到区域 ${area} 的DOM元素`);\n      }\n\n      // 重置计时\n      this.gazeStartTime[area] = null;\n    },\n\n    resetAllZoom() {\n      [\"A\", \"B\", \"C\"].forEach((area) => {\n        const box = this.$refs[`box${area}`];\n        if (box) {\n          box.style.transform = \"\";\n          box.style.zIndex = \"\";\n        }\n      });\n      this.currentZoom = null;\n    },\n  },\n};\n</script>\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\n.container {\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 20px;\n}\n\n.box {\n  height: 1956px;\n  border: 2px solid #2c3e50;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 24px;\n  font-weight: bold;\n  transition: transform 0.3s ease;\n}\n\n.box-a {\n  width: 768px;\n  background-color: #f8d7da;\n}\n\n.box-b {\n  width: 768px;\n  background-color: #d1e7dd;\n}\n\n.box-c {\n  width: 2304px;\n  background-color: #cfe2ff;\n}\n\n.box-f {\n  width: 3840px;\n  height: 100px;\n  background-color: #f0e6ff;\n  margin-top: 20px;\n}\n\n.container {\n  width: 3840px;\n}\n\n.g-area {\n  width: 3840px;\n  height: 120px;\n  background-color: #e2e3e5;\n  margin-bottom: 20px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n  font-weight: bold;\n}\n\n.stats {\n  width: 3840px;\n  height: 120px;\n  margin: 20px 0;\n  padding: 10px;\n  background-color: #f8f9fa;\n  border-radius: 8px;\n}\n\n.bottom-toolbar {\n  width: 3840px;\n  height: 84px;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  background-color: #343a40;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  opacity: 1 !important;\n  visibility: visible !important;\n}\n\n.bottom-toolbar .stat-details {\n  width: 100%;\n  height: 100%;\n  padding: 10px;\n  background-color: transparent;\n  color: white;\n  display: flex;\n  justify-content: space-around;\n}\n\n.bottom-toolbar .stat-item {\n  display: flex;\n  justify-content: space-between;\n  margin: 0 20px;\n}\n\n.bottom-toolbar .stat-label {\n  font-weight: bold;\n  margin-right: 10px;\n}\n\n.user-type {\n  margin-top: 20px;\n  padding: 15px;\n  border-radius: 8px;\n  font-weight: bold;\n  text-align: center;\n}\n\n.user-type.direct {\n  background-color: #d4edda;\n  color: #155724;\n}\n\n.user-type.referential {\n  background-color: #fff3cd;\n  color: #856404;\n}\n\n.user-type.exploratory {\n  background-color: #f8d7da;\n  color: #721c24;\n}\n\n.user-type.unknown {\n  background-color: #e2e3e5;\n  color: #383d41;\n}\n\n.stats .stat-details {\n  margin-top: 10px;\n  padding: 10px;\n  background-color: #e9ecef;\n  border-radius: 5px;\n  font-size: 14px;\n}\n\n.stat-item {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 5px;\n}\n\n.stat-label {\n  font-weight: bold;\n}\n\n.webgazerVideoContainer {\n  position: fixed;\n  top: 10px;\n  left: 10px;\n  width: 200px;\n  height: 150px;\n  border: 2px solid #2c3e50;\n  border-radius: 8px;\n  z-index: 1000;\n}\n\n.webgazerVideoContainer video {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=910b7cbe\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=910b7cbe&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\n\nVue.config.productionTip = false\nVue.use(ElementUI)\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkdemo\"] = self[\"webpackChunkdemo\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(7310); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticStyle","staticClass","_v","ref","staticRenderFns","UserClassificationService","zoomArea","area","scale","validAreas","errorMsg","Object","keys","join","console","error","Error","onZoomChange","warn","state","log","window","updateZoomState","resetZoom","zoomState","zoomedArea","timestamp","Date","now","a","b","c","f","g","onZoomReset","constructor","screenConfig","diagonalInches","resolution","width","height","ppi","aoiRatios","bf","confirmationState","direct","referential","exploratory","lastConfirmedType","config","windowSize","entropyThresholds","low","high","coverageThresholds","directMax","referentialMin","referentialMax","exploratoryMin","gazeDurationThresholds","short","long","saccadeThresholds","small","medium","large","confirmationWindows","currentWindow","startTime","gazeData","aoiStats","count","duration","saccadeAmplitudes","addGazePoint","data","aoi","determineAOI","x","y","length","lastValidPoint","slice","reverse","find","amplitude","Math","sqrt","pow","push","windowDuration","result","classifyUser","JSON","stringify","screenWidth","aWidth","cWidth","totalGazeCount","values","reduce","sum","stat","totalGazeDuration","aoiProportions","entries","countProportion","durationProportion","rawCount","rawDuration","medianSaccade","calculateMedian","entropy","calculateEntropy","map","p","coverage","filter","gazeDurations","medianGazeDuration","densityMetrics","userType","alert","lastClassificationStats","gazeCount","stats","uiRecommendation","getUIRecommendation","toISOString","_diagnostics","cProportion","cDuration","totalDuration","proportions","saccade","gazeDuration","maxDurationEntry","includes","thresholds","medianGazeDurationLow","medianGazeDurationHigh","medianSaccadeLow","medianSaccadeHigh","coverageLow","coverageHigh","actualValues","metConditions","resetWindow","type","log2","sorted","sort","middle","floor","layout","description","components","taskPanel","visible","collapsed","outputPanel","split","newWindow","validData","forEach","getLastClassification","userClassificationService","WebGazerService","isInitialized","retryCount","maxRetries","init","loadScript","webgazer","setRegression","setTracker","begin","Promise","resolve","setTimeout","async","reject","script","document","createElement","src","onload","onerror","head","appendChild","webgazerService","name","gazeStartTime","currentZoom","loading","gazeTimer","userTypeHistory","mounted","$nextTick","setupEyeTracking","beforeUnmount","clearInterval","clearGazeListener","stopVideo","stop","methods","video","getElementById","style","display","position","top","left","zIndex","border","borderRadius","setGazeListener","elapsedTime","checkGazePosition","setInterval","determineZoomArea","err","showErrorNotification","$notify","title","message","showClose","$refs","boxA","boxB","boxC","boxes","getBoundingClientRect","currentAOI","box","right","bottom","$set","$forceUpdate","maxArea","resetAllZoom","toUpperCase","transform","transition","component","Vue","productionTip","use","ElementUI","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","id","loaded","__webpack_modules__","call","m","amdO","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","key","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","value","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}