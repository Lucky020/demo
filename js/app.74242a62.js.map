{"version":3,"file":"js/app.74242a62.js","mappings":"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","sources":["webpack://demo/./src/App.vue","webpack://demo/./src/services/userClassificationService.js","webpack://demo/./src/services/webgazerService.js","webpack://demo/src/App.vue","webpack://demo/./src/App.vue?c036","webpack://demo/./src/App.vue?0e40","webpack://demo/./src/main.js","webpack://demo/webpack/bootstrap","webpack://demo/webpack/runtime/amd options","webpack://demo/webpack/runtime/chunk loaded","webpack://demo/webpack/runtime/compat get default export","webpack://demo/webpack/runtime/define property getters","webpack://demo/webpack/runtime/global","webpack://demo/webpack/runtime/hasOwnProperty shorthand","webpack://demo/webpack/runtime/make namespace object","webpack://demo/webpack/runtime/node module decorator","webpack://demo/webpack/runtime/jsonp chunk loading","webpack://demo/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('video',{staticStyle:{\"position\":\"fixed\",\"top\":\"10px\",\"left\":\"10px\",\"z-index\":\"1000\",\"display\":\"none\",\"border\":\"2px solid #2c3e50\",\"border-radius\":\"8px\"},attrs:{\"id\":\"webgazerVideoFeed\"}}),_c('div',{staticClass:\"container\"},[_c('div',{ref:\"boxA\",staticClass:\"box box-a\"},[_vm._v(\"区域A\")]),_c('div',{ref:\"boxB\",staticClass:\"box box-b\"},[_vm._v(\"区域B\")]),_c('div',{ref:\"boxC\",staticClass:\"box box-c\"},[_vm._v(\"区域C\")])]),_c('div',{staticClass:\"stats\"},[_c('p',[_vm._v(\"注视统计 (5秒内):\")]),_c('p',[_vm._v(\"A区域: \"+_vm._s(_vm.gazeDuration.a)+\"ms\")]),_c('p',[_vm._v(\"B区域: \"+_vm._s(_vm.gazeDuration.b)+\"ms\")]),_c('p',[_vm._v(\"C区域: \"+_vm._s(_vm.gazeDuration.c)+\"ms\")]),_c('p',[_vm._v(\"F区域: \"+_vm._s(_vm.gazeDuration.f)+\"ms\")]),_c('p',[_vm._v(\"G区域: \"+_vm._s(_vm.gazeDuration.g)+\"ms\")]),(_vm.loading)?_c('p',{staticStyle:{\"color\":\"#f39c12\"}},[_vm._v(\"正在初始化眼动跟踪...\")]):_vm._e()]),_c('div',{staticClass:\"user-type\",class:_vm.userType},[(_vm.userType === 'direct')?_c('p',[_vm._v(\"用户类型: 直接型 (Direct)\")]):(_vm.userType === 'referential')?_c('p',[_vm._v(\"用户类型: 对照型 (Referential)\")]):(_vm.userType === 'exploratory')?_c('p',[_vm._v(\"用户类型: 探索型 (Exploratory)\")]):_c('p',[_vm._v(\"用户类型: 未确定\")])]),(_vm.stats)?_c('div',{staticClass:\"stat-details\"},[_c('div',{staticClass:\"stat-item\"},[_c('span',{staticClass:\"stat-label\"},[_vm._v(\"扫视幅度:\")]),_c('span',[_vm._v(_vm._s(_vm.stats.medianSaccade.toFixed(1))+\"px\")])]),_c('div',{staticClass:\"stat-item\"},[_c('span',{staticClass:\"stat-label\"},[_vm._v(\"AOI熵:\")]),_c('span',[_vm._v(_vm._s(_vm.stats.entropy.toFixed(2)))])]),_c('div',{staticClass:\"stat-item\"},[_c('span',{staticClass:\"stat-label\"},[_vm._v(\"覆盖区域:\")]),_c('span',[_vm._v(_vm._s(_vm.stats.coverage))])]),_c('div',{staticClass:\"stat-item\"},[_c('span',{staticClass:\"stat-label\"},[_vm._v(\"注视时长:\")]),_c('span',[_vm._v(_vm._s(_vm.stats.medianGazeDuration.toFixed(1))+\"ms\")])]),_c('div',{staticClass:\"stat-item\"},[_c('span',{staticClass:\"stat-label\"},[_vm._v(\"注视点数量:\")]),_c('span',[_vm._v(_vm._s(_vm.stats.gazeCount))])])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * 用户分类服务 - 基于眼动追踪数据将用户分为三类:\n * 1. 直接型(Direct)\n * 2. 对照型(Referential) \n * 3. 探索型(Exploratory)\n */\n\nexport class UserClassificationService {\n  /**\n   * 重置缩放状态 - 将所有区域缩放还原到默认值(1.0)\n   */\n  /**\n   * 放大指定区域\n   * @param {string} area - 要放大的区域标识符(a/b/c/f)\n   * @param {number} [scale=1.5] - 缩放比例(默认1.5倍)\n   */\n  zoomArea(area, scale = 1.5) {\n    try {\n      // 增强区域验证（包含所有有效区域）\n      const validAreas = {\n        'a': '左侧任务区',\n        'b': '右上提示区',\n        'c': '中央代码区',\n        'f': '右下历史区'\n      };\n\n      if (!(area in validAreas)) {\n        const errorMsg = `非法区域: ${area}, 有效区域: ${Object.keys(validAreas).join(', ')}`;\n        console.error(errorMsg);\n        throw new Error(errorMsg);\n      }\n\n      // 确保回调函数已设置\n      if (!this.onZoomChange) {\n        console.warn('onZoomChange回调未设置，使用默认回调');\n        this.onZoomChange = (state) => {\n          console.log('默认zoom回调:', state);\n          if (window.updateZoomState) {\n            window.updateZoomState(state);\n          }\n        };\n      }\n\n      // 先重置所有区域\n      this.resetZoom();\n\n      // 设置目标区域缩放\n      this.zoomState[area] = scale;\n      console.log(`区域 ${area} 已放大 ${scale} 倍`);\n\n      // 确保触发UI更新\n      if (typeof this.onZoomChange === 'function') {\n        this.onZoomChange({\n          zoomedArea: area,\n          zoomState: this.zoomState,\n          timestamp: Date.now()\n        });\n      } else {\n        console.warn('onZoomChange回调不是函数，无法触发UI更新');\n      }\n\n      return this.zoomState; // 确保返回缩放状态\n    } catch (error) {\n      console.error('缩放区域时出错:', error);\n      throw error; // 重新抛出错误\n    }\n  }\n\n  resetZoom() {\n    // 重置所有区域的缩放状态（包含所有区域）\n    this.zoomState = {\n      a: 1.0,\n      b: 1.0,\n      c: 1.0,\n      f: 1.0,\n      g: 1.0\n    };\n    console.log('所有区域缩放已重置为默认值');\n\n    // 触发UI更新\n    if (this.onZoomReset) {\n      this.onZoomReset(this.zoomState);\n    }\n\n    return this.zoomState;\n  }\n\n  constructor() {\n    // 初始化缩放状态和回调（包含所有区域）\n    this.zoomState = {\n      a: 1.0,\n      b: 1.0,\n      c: 1.0,\n      f: 1.0,\n      g: 1.0\n    };\n\n    // 设置默认回调\n    this.onZoomChange = (state) => {\n      console.log('默认zoom回调:', state);\n      if (window.updateZoomState) {\n        window.updateZoomState(state);\n      }\n    };\n\n    this.onZoomReset = (state) => {\n      console.log('默认zoom重置回调:', state);\n      if (window.updateZoomState) {\n        window.updateZoomState(state);\n      }\n    };\n\n    // 24寸屏幕配置 (1920x1080分辨率)\n    this.screenConfig = {\n      diagonalInches: 24,\n      resolution: { width: 1920, height: 1080 },\n      ppi: 92, // 像素每英寸\n      aoiRatios: {\n        a: 0.2, // 左栏20%\n        c: 0.6, // 中栏60%\n        bf: 0.2, // 右栏20%\n        g: 0    // 非任务区不参与面积归一化\n      }\n    };\n\n    // 防抖状态\n    this.confirmationState = {\n      direct: 0,\n      referential: 0,\n      exploratory: 0,\n      lastConfirmedType: null\n    };\n\n    // 默认阈值配置\n    this.config = {\n      windowSize: 5000, // 5秒窗口\n      entropyThresholds: {\n        low: 1.2,\n        high: 1.8\n      },\n      coverageThresholds: {\n        directMax: 2,\n        referentialMin: 2,\n        referentialMax: 3,\n        exploratoryMin: 3\n      },\n      gazeDurationThresholds: {\n        short: 200, // 毫秒\n        long: 500   // 毫秒\n      },\n      saccadeThresholds: {\n        // 基于24寸屏幕物理尺寸调整(约0.5-1.5英寸扫视)\n        small: 50,  // ~0.5英寸\n        medium: 150, // ~1.5英寸\n        large: 300   // ~3英寸\n      },\n      confirmationWindows: 2 // 防抖需要连续2个窗口确认\n    };\n\n    // 当前窗口数据\n    this.currentWindow = {\n      startTime: null,\n      gazeData: [],\n      aoiStats: {\n        a: { count: 0, duration: 0 },\n        b: { count: 0, duration: 0 },\n        c: { count: 0, duration: 0 },\n        f: { count: 0, duration: 0 },\n        g: { count: 0, duration: 0 }\n      },\n      saccadeAmplitudes: []\n    };\n  }\n\n\n  /**\n   * 添加新的注视点数据\n   * @param {Object} data - 注视点数据\n   * @param {number} data.x - 屏幕x坐标\n   * @param {number} data.y - 屏幕y坐标\n   * @param {string} data.aoi - 注视区域(A/B/C/F/G)\n   * @param {number} data.duration - 注视持续时间(ms)\n   * @param {number} timestamp - 时间戳\n   * @returns {Object|null} 分类结果(经过防抖确认后)\n   */\n  addGazePoint(data, timestamp) {\n    // 添加时间戳到数据中\n    data.timestamp = timestamp;\n\n    if (!this.currentWindow.startTime) {\n      this.currentWindow.startTime = timestamp;\n    }\n\n    // 确定AOI区域(考虑24寸屏幕布局)\n    if (!data.aoi) {\n      data.aoi = this.determineAOI(data.x, data.y);\n    }\n\n    // 记录AOI统计\n    if (this.currentWindow.aoiStats[data.aoi]) {\n      this.currentWindow.aoiStats[data.aoi].count++;\n      this.currentWindow.aoiStats[data.aoi].duration += data.duration;\n    }\n\n    // 记录扫视幅度(如果这是第二个及以后的注视点)\n    if (this.currentWindow.gazeData.length > 0) {\n      const lastValidPoint = this.currentWindow.gazeData\n        .slice()\n        .reverse()\n        .find(g => g.timestamp > timestamp - 2000); // 只考虑2秒内的注视点\n\n      if (lastValidPoint) {\n        const amplitude = Math.sqrt(\n          Math.pow(data.x - lastValidPoint.x, 2) +\n          Math.pow(data.y - lastValidPoint.y, 2)\n        );\n        this.currentWindow.saccadeAmplitudes.push(amplitude);\n      }\n    }\n\n    this.currentWindow.gazeData.push(data);\n    // 严格5秒窗口控制\n    const now = timestamp;\n    if (!this.currentWindow.startTime) {\n      this.currentWindow.startTime = now;\n      return null; // 首次不分析\n    }\n\n    const windowDuration = now - this.currentWindow.startTime;\n    if (windowDuration < this.config.windowSize) {\n      console.log(`严格等待5秒: ${windowDuration / 1000}s/5s`);\n      return null;\n    }\n\n    // 5秒窗口已满，执行分析\n    console.log('5秒窗口已满，开始分析');\n    const result = this.classifyUser();\n    console.log('分类结果:', JSON.stringify(result, null, 2));\n\n    // 完全重置窗口（不清除回调）\n    this.currentWindow = {\n      startTime: now, // 重置为新时间点\n      gazeData: [],\n      aoiStats: {\n        a: { count: 0, duration: 0 },\n        b: { count: 0, duration: 0 },\n        c: { count: 0, duration: 0 },\n        f: { count: 0, duration: 0 },\n        g: { count: 0, duration: 0 }\n      },\n      saccadeAmplitudes: []\n    };\n\n    return result;\n    // return null;\n  }\n\n  /**\n   * 根据坐标确定AOI区域\n   * @param {number} x - 屏幕x坐标\n   * @param {number} y - 屏幕y坐标\n   * @returns {string} AOI标识符(A/B/C/F/G)\n   */\n  determineAOI(x, y) {\n    const screenWidth = this.screenConfig.resolution.width;\n    const aWidth = screenWidth * this.screenConfig.aoiRatios.a;\n    const cWidth = screenWidth * this.screenConfig.aoiRatios.c;\n\n    if (x < aWidth) return 'a';\n    if (x < aWidth + cWidth) return 'c';\n    return y < this.screenConfig.resolution.height / 2 ? 'b' : 'f';\n  }\n\n  /**\n   * 分类用户并返回结果(带防抖确认)\n   * @returns {Object|null} 分类结果(经过防抖确认后)\n   */\n  classifyUser() {\n    // 计算各AOI的注视占比（安全版）\n    const totalGazeCount = Object.values(this.currentWindow.aoiStats)\n      .reduce((sum, stat) => sum + (stat?.count || 0), 0) || 1; // 避免除以0\n\n    const totalGazeDuration = Object.values(this.currentWindow.aoiStats)\n      .reduce((sum, stat) => sum + (stat?.duration || 0), 0) || 1; // 避免除以0\n\n    const aoiProportions = {};\n    for (const [aoi, stat] of Object.entries(this.currentWindow.aoiStats)) {\n      aoiProportions[aoi] = {\n        countProportion: (stat?.count || 0) / totalGazeCount,\n        durationProportion: (stat?.duration || 0) / totalGazeDuration,\n        rawCount: stat?.count || 0,\n        rawDuration: stat?.duration || 0\n      };\n    }\n    console.log('AOI比例计算结果:', JSON.stringify(aoiProportions, null, 2));\n\n    // 计算扫视幅度中位数\n    const medianSaccade = this.calculateMedian(this.currentWindow.saccadeAmplitudes);\n\n    // 计算AOI熵\n    const entropy = this.calculateEntropy(\n      Object.values(aoiProportions).map(p => p.countProportion)\n    );\n\n    // 计算覆盖的AOI数量\n    const coverage = Object.values(aoiProportions)\n      .filter(p => p.countProportion > 0.05).length;\n\n    // 计算注视时长中位数\n    const gazeDurations = this.currentWindow.gazeData.map(g => g.duration);\n    const medianGazeDuration = this.calculateMedian(gazeDurations);\n\n    // 计算面积归一化密度(d指标)\n    const densityMetrics = {\n      a: aoiProportions.a.countProportion / this.screenConfig.aoiRatios.a,\n      c: aoiProportions.c.countProportion / this.screenConfig.aoiRatios.c,\n      b: aoiProportions.b.countProportion / (this.screenConfig.aoiRatios.bf / 2),\n      f: aoiProportions.f.countProportion / (this.screenConfig.aoiRatios.bf / 2)\n    };\n\n    // 分类逻辑\n    let userType = 'unknown';\n    // 1. 检查直接型(Direct) - 安全访问版\n    const cProportion = JSON.stringify(aoiProportions.c.countProportion) || 0;\n    const cDensity = JSON.stringify(densityMetrics.c) || 0;\n    if (\n      cProportion >= 0.2 && // 降低到20%\n      cDensity > 0.3 && // 显著降低密度要求\n      medianGazeDuration >= 10 // 区域C总注视时长至少1000ms(1秒)\n    ) {\n      console.log('满足直接型条件:', {\n        cProportion,\n        cDensity,\n        gazeDuration: medianGazeDuration\n      });\n      userType = 'direct';\n      console.log('检测到直接型用户:', {\n        cProportion: aoiProportions.c.countProportion,\n        density: densityMetrics.c,\n        duration: medianGazeDuration,\n        entropy: entropy,\n        coverage: coverage\n      });\n    }\n    // 2. 检查对照型(Referential) - 简化条件\n    else if (\n      (JSON.stringify(aoiProportions.c.countProportion) + JSON.stringify(aoiProportions.b.countProportion)) >= 0.5 &&\n      Math.abs(JSON.stringify(densityMetrics.c) - JSON.stringify(densityMetrics.b)) < 0.8 &&\n      medianGazeDuration >= 150 // 两区域合计至少1.5秒\n    ) {\n      userType = 'referential';\n    }\n    // 3. 检查探索型(Exploratory)\n    else if (\n      JSON.stringify(medianSaccade) >= JSON.stringify(this.config.saccadeThresholds.large) &&\n      JSON.stringify(entropy) >= JSON.stringify(this.config.entropyThresholds.high) &&\n      JSON.stringify(coverage) >= JSON.stringify(this.config.coverageThresholds.exploratoryMin) &&\n      JSON.stringify(aoiProportions.g.countProportion) > 0.1 &&\n      JSON.stringify(densityMetrics.c) < 1.5 && // 没有明显优势区域\n      JSON.stringify(medianGazeDuration) < 1000 // 主要区域注视不足\n    ) {\n      userType = 'exploratory';\n    }\n\n    // 保存最后一次分类统计\n    this.lastClassificationStats = {\n      medianSaccade,\n      entropy,\n      coverage,\n      medianGazeDuration,\n      aoiProportions,\n      densityMetrics,\n      gazeCount: totalGazeCount\n    };\n\n    // 准备结果对象（增强版）\n    const result = {\n      userType: userType || 'unknown',\n      zoomedArea: null,\n      stats: {\n        medianSaccade,\n        entropy,\n        coverage,\n        medianGazeDuration,\n        aoiProportions,\n        densityMetrics,\n        gazeCount: totalGazeCount,\n        windowDuration: Date.now() - this.currentWindow.startTime\n      },\n      uiRecommendation: this.getUIRecommendation(userType),\n      timestamp: new Date().toISOString(),\n      // 调试信息\n      _diagnostics: {\n        cProportion: aoiProportions.c?.countProportion,\n        cDuration: aoiProportions.c?.rawDuration,\n        totalDuration: totalGazeDuration\n      }\n    };\n\n    // 确保回调函数设置\n    if (!this.onZoomChange) {\n      this.onZoomChange = (state) => {\n        console.log('Zoom状态变化:', state);\n        // 确保UI能收到更新\n        if (window.updateZoomState) {\n          window.updateZoomState(state);\n        } else {\n          console.warn('window.updateZoomState 未定义，请确保UI监听器已设置');\n        }\n      };\n      console.log('已设置默认zoom回调函数');\n    }\n\n    // 即使未分类也返回结果，但添加详细诊断信息\n    if (userType !== 'unknown') {\n      console.log('检测到用户类型:', userType, '详细统计:', {\n        proportions: aoiProportions,\n        saccade: medianSaccade,\n        entropy: entropy,\n        coverage: coverage,\n        gazeDuration: medianGazeDuration\n      });\n      this.confirmationState.lastConfirmedType = userType;\n\n      // 准确找出注视时长最长的有效区域\n      const validAreas = ['a', 'b', 'c', 'f'];\n      let maxDurationEntry = null;\n\n      try {\n        maxDurationEntry = Object.entries(this.currentWindow.aoiStats)\n          .filter(([area]) => validAreas.includes(area))\n          .reduce((a, b) => {\n            if (!a[1] || !b[1]) return a; // 防止空数据\n            return a[1].duration > b[1].duration ? a : b;\n          });\n      } catch (error) {\n        console.error('计算注视时长时出错:', error);\n      }\n\n      if (maxDurationEntry && maxDurationEntry[1].duration > 0) {\n        result.zoomedArea = maxDurationEntry[0];\n        console.log(`将放大注视最久的区域: ${result.zoomedArea} (时长: ${maxDurationEntry[1].duration}ms)`);\n\n        // 立即执行放大操作\n        this.zoomArea(result.zoomedArea);\n      } else {\n        console.log('无显著注视区域，保持默认');\n        this.resetZoom();\n      }\n    } else {\n      // 详细诊断日志\n      console.log('未分类诊断详情:', {\n        thresholds: {\n          direct: {\n            cProportion: 0.2,\n            density: 0.3,\n            duration: 200\n          },\n          referential: {\n            minCombined: 0.5,\n            maxDensityDiff: 0.8,\n            minDuration: 150\n          }\n        },\n        actualValues: {\n          cProportion: aoiProportions.c?.countProportion,\n          bProportion: aoiProportions.b?.countProportion,\n          cDensity: densityMetrics.c,\n          bDensity: densityMetrics.b,\n          gazeDuration: medianGazeDuration,\n          densityDiff: Math.abs(densityMetrics.c - densityMetrics.b)\n        },\n        metConditions: {\n          direct: aoiProportions.c?.countProportion >= 0.2 &&\n            densityMetrics.c > 0.3 &&\n            medianGazeDuration >= 200,\n          referential: (aoiProportions.c.countProportion + aoiProportions.b.countProportion) >= 0.5 &&\n            Math.abs(densityMetrics.c - densityMetrics.b) < 0.8 &&\n            medianGazeDuration >= 150\n        }\n      });\n      this.resetZoom();\n\n      // 如果没有满足任何类型，返回注视时长最长的区域\n      const validAreas = ['a', 'b', 'c', 'f'];\n      const maxDurationEntry = Object.entries(this.currentWindow.aoiStats)\n        .filter(([area]) => validAreas.includes(area))\n        .reduce((a, b) => a[1].duration > b[1].duration ? a : b, [null, { duration: 0 }]);\n\n      if (maxDurationEntry[0] && maxDurationEntry[1].duration > 0) {\n        result.zoomedArea = maxDurationEntry[0];\n        console.log(`自动选择注视最久的区域: ${result.zoomedArea} (时长: ${maxDurationEntry[1].duration}ms)`);\n        this.zoomArea(result.zoomedArea);\n      }\n    }\n\n    // 重置窗口数据\n    this.resetWindow();\n    for (const type in this.confirmationState) {\n      this.confirmationState[type] = 0;\n    }\n\n    return result;\n  }\n\n  // 保留当前窗口数据继续累积\n  // console.log('保持当前窗口继续累积数据');\n  // return null;\n  // }\n\n  /**\n   * 计算熵值\n   * @param {Array<number>} proportions - 各AOI的注视比例数组\n   * @returns {number} 熵值\n   */\n  calculateEntropy(proportions) {\n    return -proportions.reduce((sum, p) => {\n      return p > 0 ? sum + p * Math.log2(p) : sum;\n    }, 0);\n  }\n\n  /**\n   * 计算中位数\n   * @param {Array<number>} values - 数值数组\n   * @returns {number} 中位数\n   */\n  calculateMedian(values) {\n    if (values.length === 0) return 0;\n\n    const sorted = [...values].sort((a, b) => a - b);\n    const middle = Math.floor(sorted.length / 2);\n\n    return sorted.length % 2 === 0\n      ? (sorted[middle - 1] + sorted[middle]) / 2\n      : sorted[middle];\n  }\n\n  /**\n   * 获取UI调整建议\n   * @param {string} userType - 用户类型\n   * @returns {Object} UI建议\n   */\n  getUIRecommendation(userType) {\n    switch (userType) {\n      case 'direct':\n        return {\n          layout: 'focus',\n          description: '简化界面，突出代码编辑区',\n          components: {\n            taskPanel: { visible: true, collapsed: true },\n            outputPanel: { visible: false }\n          }\n        };\n      case 'referential':\n        return {\n          layout: 'balanced',\n          description: '保持三栏布局，确保参考信息可见',\n          components: {\n            taskPanel: { visible: true, collapsed: false },\n            outputPanel: { visible: true, split: 'vertical' }\n          }\n        };\n      case 'exploratory':\n        return {\n          layout: 'guided',\n          description: '提供更多引导和文档链接',\n          components: {\n            taskPanel: { visible: true, collapsed: false },\n            outputPanel: { visible: true, split: 'horizontal' }\n          }\n        };\n      default:\n        return {\n          layout: 'default',\n          description: '保持当前UI布局',\n          components: {}\n        };\n    }\n  }\n\n  /**\n   * 重置当前窗口数据\n   */\n  resetWindow() {\n    const newWindow = {\n      startTime: null,\n      gazeData: [],\n      aoiStats: {\n        a: { count: 0, duration: 0 },\n        b: { count: 0, duration: 0 },\n        c: { count: 0, duration: 0 },\n        f: { count: 0, duration: 0 },\n        g: { count: 0, duration: 0 }\n      },\n      saccadeAmplitudes: []\n    };\n\n    // 迁移未过期的数据\n    if (this.currentWindow.gazeData.length > 0) {\n      const now = Date.now();\n      const validData = this.currentWindow.gazeData.filter(\n        g => now - g.timestamp < this.config.windowSize\n      );\n\n      if (validData.length > 0) {\n        newWindow.startTime = validData[0].timestamp;\n        newWindow.gazeData = validData;\n\n        // 重新计算统计\n        validData.forEach(data => {\n          if (newWindow.aoiStats[data.aoi]) {\n            newWindow.aoiStats[data.aoi].count++;\n            newWindow.aoiStats[data.aoi].duration += data.duration;\n          }\n        });\n      }\n    }\n\n    this.currentWindow = newWindow;\n    console.log('窗口已重置，保留未过期数据:', newWindow.gazeData.length);\n  }\n  /**\n   * 获取最后一次分类结果\n   * @returns {Object|null} 最后一次完整的分类结果\n   */\n  getLastClassification() {\n    if (!this.confirmationState.lastConfirmedType) {\n      return null;\n    }\n\n    return {\n      userType: this.confirmationState.lastConfirmedType,\n      timestamp: new Date().toISOString(),\n      stats: this.lastClassificationStats || {}\n    };\n  }\n}\n\n// 导出单例实例\nexport const userClassificationService = new UserClassificationService();\n","class WebGazerService {\n  constructor() {\n    this.isInitialized = false;\n    this.retryCount = 0;\n    this.maxRetries = 3;\n  }\n\n  async init() {\n    try {\n      // 动态加载WebGazer脚本\n      await this.loadScript();\n\n      // 初始化WebGazer\n      await webgazer\n        .setRegression('ridge')\n        .setTracker('clmtrackr')\n        .begin();\n\n      this.isInitialized = true;\n      return true;\n    } catch (error) {\n      console.error('WebGazer初始化失败:', error);\n      if (this.retryCount < this.maxRetries) {\n        this.retryCount++;\n        console.log(`正在重试初始化 (${this.retryCount}/${this.maxRetries})`);\n        return new Promise(resolve => {\n          setTimeout(async () => {\n            resolve(await this.init());\n          }, 2000);\n        });\n      }\n      throw error;\n    }\n  }\n\n  loadScript() {\n    return new Promise((resolve, reject) => {\n      if (typeof webgazer !== 'undefined') return resolve();\n\n      const script = document.createElement('script');\n      script.src = 'https://webgazer.cs.brown.edu/webgazer.js';\n      script.onload = resolve;\n      script.onerror = reject;\n      document.head.appendChild(script);\n    });\n  }\n}\n\nexport const webgazerService = new WebGazerService();","<template>\n  <div id=\"app\">\n    <!-- 添加摄像头视频显示 -->\n    <video id=\"webgazerVideoFeed\" style=\"position: fixed; top: 10px; left: 10px; z-index: 1000; display: none; border: 2px solid #2c3e50; border-radius: 8px;\"></video>\n    <div class=\"container\">\n      <div class=\"box box-a\" ref=\"boxA\">区域A</div>\n      <div class=\"box box-b\" ref=\"boxB\">区域B</div>\n      <div class=\"box box-c\" ref=\"boxC\">区域C</div>\n    </div>\n    <div class=\"stats\">\n      <p>注视统计 (5秒内):</p>\n      <p>A区域: {{ gazeDuration.a }}ms</p>\n      <p>B区域: {{ gazeDuration.b }}ms</p>\n      <p>C区域: {{ gazeDuration.c }}ms</p>\n      <p>F区域: {{ gazeDuration.f }}ms</p>\n      <p>G区域: {{ gazeDuration.g }}ms</p>\n      <p v-if=\"loading\" style=\"color: #f39c12;\">正在初始化眼动跟踪...</p>\n    </div>\n    <div class=\"user-type\" :class=\"userType\">\n      <p v-if=\"userType === 'direct'\">用户类型: 直接型 (Direct)</p>\n      <p v-else-if=\"userType === 'referential'\">用户类型: 对照型 (Referential)</p>\n      <p v-else-if=\"userType === 'exploratory'\">用户类型: 探索型 (Exploratory)</p>\n      <p v-else>用户类型: 未确定</p>\n    </div>\n\n    <div class=\"stat-details\" v-if=\"stats\">\n      <div class=\"stat-item\">\n        <span class=\"stat-label\">扫视幅度:</span>\n        <span>{{ stats.medianSaccade.toFixed(1) }}px</span>\n      </div>\n      <div class=\"stat-item\">\n        <span class=\"stat-label\">AOI熵:</span>\n        <span>{{ stats.entropy.toFixed(2) }}</span>\n      </div>\n      <div class=\"stat-item\">\n        <span class=\"stat-label\">覆盖区域:</span>\n        <span>{{ stats.coverage }}</span>\n      </div>\n      <div class=\"stat-item\">\n        <span class=\"stat-label\">注视时长:</span>\n        <span>{{ stats.medianGazeDuration.toFixed(1) }}ms</span>\n      </div>\n      <div class=\"stat-item\">\n        <span class=\"stat-label\">注视点数量:</span>\n        <span>{{ stats.gazeCount }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { userClassificationService } from \"./services/userClassificationService\";\nimport { webgazerService } from \"./services/webgazerService\";\n\nexport default {\n  name: \"App\",\n  components: {},\n  data() {\n    return {\n      gazeDuration: { a: 0, b: 0, c: 0, f: 0, g: 0 }, // 记录10秒内的注视总时长\n      gazeStartTime: { a: null, b: null, c: null, f: null, g: null }, // 记录开始注视时间\n      currentZoom: null,\n      loading: false,\n      gazeTimer: null,\n      userType: null, // 当前用户类型\n      userTypeHistory: [], // 用户类型历史记录\n      stats: null, // 统计信息\n    };\n  },\n  mounted() {\n    // 添加调试信息\n    console.log(\"App组件已挂载\");\n\n    // 设置缩放状态监听\n    window.updateZoomState = (state) => {\n      console.log(\"收到缩放状态更新:\", state);\n      this.$nextTick(() => {\n        this.zoomArea(state.zoomedArea);\n      });\n    };\n\n    if (this.setupEyeTracking) {\n      this.setupEyeTracking();\n    } else {\n      console.error(\"setupEyeTracking方法未定义\");\n    }\n  },\n  beforeUnmount() {\n    if (this.gazeTimer) clearInterval(this.gazeTimer);\n    webgazer.clearGazeListener();\n    webgazer.stopVideo();\n    webgazer.stop();\n  },\n  methods: {\n    async setupEyeTracking() {\n      try {\n        console.log(\"开始初始化眼动跟踪...\");\n        this.loading = true;\n\n        // 使用webgazerService初始化\n        await webgazerService.init();\n\n        // 设置视频显示\n        const video = document.getElementById(\"webgazerVideoFeed\");\n        video.style.display = \"block\";\n        video.style.position = \"fixed\";\n        video.style.top = \"10px\";\n        video.style.left = \"10px\";\n        video.style.zIndex = \"1000\";\n        video.style.border = \"2px solid #2c3e50\";\n        video.style.borderRadius = \"8px\";\n        video.width = 320;\n        video.height = 240;\n\n        // 设置注视监听\n        webgazer.setGazeListener((data, elapsedTime) => {\n          if (data) {\n            console.log(\"检测到注视点:\", data);\n            this.checkGazePosition(data.x, data.y);\n            this.loading = false;\n\n            // 只有在获取到眼动数据后才启动定时器\n            if (!this.gazeTimer) {\n              console.log(\"启动5秒统计定时器...\");\n              this.gazeTimer = setInterval(() => {\n                console.log(\"5秒统计周期触发\");\n                this.determineZoomArea();\n              }, 5000);\n            }\n          }\n        });\n      } catch (err) {\n        console.error(\"眼动跟踪初始化失败:\", err);\n        this.showErrorNotification(err);\n        this.loading = false;\n      }\n    },\n\n    showErrorNotification(error) {\n      this.$notify.error({\n        title: \"眼动跟踪初始化失败\",\n        message: `原因: ${error.message}`,\n        duration: 0,\n        showClose: true,\n      });\n    },\n    checkGazePosition(x, y) {\n      const now = Date.now();\n      const boxes = {\n        a: this.$refs.boxA.getBoundingClientRect(),\n        b: this.$refs.boxB.getBoundingClientRect(),\n        c: this.$refs.boxC.getBoundingClientRect(),\n      };\n\n      // 检查注视区域\n      let currentAOI = \"g\"; // 默认为非任务区(G)\n      for (const [area, box] of Object.entries(boxes)) {\n        if (\n          x >= box.left &&\n          x <= box.right &&\n          y >= box.top &&\n          y <= box.bottom\n        ) {\n          currentAOI = area;\n          break;\n        }\n      }\n\n      // 记录注视数据\n      if (currentAOI !== \"g\") {\n        // 记录开始注视时间\n        if (!this.gazeStartTime[currentAOI]) {\n          this.gazeStartTime[currentAOI] = now;\n          console.log(`开始注视区域 ${currentAOI}`);\n        }\n\n        // 累计注视时间\n        const duration = now - (this.gazeStartTime[currentAOI] || now);\n        this.gazeDuration[currentAOI] += duration;\n        this.gazeStartTime[currentAOI] = now;\n        console.log(\n          `区域 ${currentAOI} 累计注视时间: ${this.gazeDuration[currentAOI]}ms`\n        );\n\n        // 添加分类数据并确保响应式更新\n        const result = userClassificationService.addGazePoint(\n          {\n            x,\n            y,\n            aoi: currentAOI,\n            duration,\n          },\n          now\n        );\n\n        if (result) {\n          // alert(\"result的值是: \" + JSON.stringify(result));\n          // 使用Vue.set确保响应式更新\n          this.$set(this, \"userType\", result.userType);\n          this.$set(this, \"stats\", result.stats);\n          this.userTypeHistory.push(result);\n          console.log(\"用户分类结果:\", {\n            type: result.userType,\n            stats: result.stats,\n            zoomArea: result.zoomedArea,\n          });\n\n          // 强制更新UI\n          this.$forceUpdate();\n        }\n      } else {\n        // 处理非任务区注视\n        const result = userClassificationService.addGazePoint(\n          {\n            x,\n            y,\n            aoi: \"g\",\n            duration: 100, // 默认非任务区注视时长\n          },\n          now\n        );\n\n        if (result) {\n          this.userType = result.userType;\n          this.stats = result.stats;\n          this.userTypeHistory.push(result);\n          console.log(\"用户分类结果:\", result);\n        }\n      }\n\n      // 离开区域时重置计时\n      for (const area of [\"a\", \"b\", \"c\", \"f\"]) {\n        if (currentAOI !== area && this.gazeStartTime[area]) {\n          console.log(`离开区域 ${area}`);\n          this.gazeStartTime[area] = null;\n        }\n      }\n    },\n    determineZoomArea() {\n      console.log(\"5秒统计周期结束，开始分析注视数据\");\n      // 从服务获取最新分类结果\n      const result = userClassificationService.getLastClassification();\n\n      if (result) {\n        this.$set(this, \"userType\", result.userType);\n        this.$set(this, \"stats\", result.stats);\n\n        // 根据用户类型决定放大策略\n        if (result.userType === \"direct\") {\n          this.zoomArea(\"c\");\n        } else if (result.userType === \"referential\") {\n          const maxArea = Object.entries(this.gazeDuration).reduce((a, b) =>\n            a[1] > b[1] ? a : b\n          )[0];\n          if (this.gazeDuration[maxArea] > 0) {\n            this.zoomArea(maxArea);\n          }\n        } else {\n          userClassificationService.resetZoom();\n        }\n      }\n      //\n\n      // 重置统计\n      this.gazeDuration = { a: 0, b: 0, c: 0, f: 0, g: 0 };\n      console.log(\"已重置注视时间统计\");\n    },\n    zoomArea(area) {\n      if (!area) {\n        console.log(\"重置所有区域缩放\");\n        this.resetAllZoom();\n        return;\n      }\n\n      console.log(`准备放大区域 ${area}`);\n\n      // 重置所有区域样式\n      this.resetAllZoom();\n\n      // 放大指定区域\n      const box = this.$refs[`box${area.toUpperCase()}`];\n      if (box) {\n        box.style.transform = \"scale(1.5)\";\n        box.style.zIndex = \"10\"; // 确保放大区域在最上层\n        box.style.transition = \"transform 0.3s ease\";\n        console.log(`已放大区域 ${area}`);\n        this.currentZoom = area;\n      } else {\n        console.error(`找不到区域 ${area} 的DOM元素`);\n      }\n\n      // 重置计时\n      this.gazeStartTime[area] = null;\n    },\n\n    resetAllZoom() {\n      [\"A\", \"B\", \"C\"].forEach((area) => {\n        const box = this.$refs[`box${area}`];\n        if (box) {\n          box.style.transform = \"\";\n          box.style.zIndex = \"\";\n        }\n      });\n      this.currentZoom = null;\n    },\n  },\n};\n</script>\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\n.container {\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 20px;\n}\n\n.box {\n  width: 30%;\n  height: 200px;\n  border: 2px solid #2c3e50;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 24px;\n  font-weight: bold;\n  transition: transform 0.3s ease;\n}\n\n.box-a {\n  background-color: #f8d7da;\n}\n\n.box-b {\n  background-color: #d1e7dd;\n}\n\n.box-c {\n  background-color: #cfe2ff;\n}\n\n.stats {\n  margin: 20px 0;\n  padding: 10px;\n  background-color: #f8f9fa;\n  border-radius: 8px;\n}\n\n.user-type {\n  margin-top: 20px;\n  padding: 15px;\n  border-radius: 8px;\n  font-weight: bold;\n  text-align: center;\n}\n\n.user-type.direct {\n  background-color: #d4edda;\n  color: #155724;\n}\n\n.user-type.referential {\n  background-color: #fff3cd;\n  color: #856404;\n}\n\n.user-type.exploratory {\n  background-color: #f8d7da;\n  color: #721c24;\n}\n\n.user-type.unknown {\n  background-color: #e2e3e5;\n  color: #383d41;\n}\n\n.stat-details {\n  margin-top: 10px;\n  padding: 10px;\n  background-color: #e9ecef;\n  border-radius: 5px;\n  font-size: 14px;\n}\n\n.stat-item {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 5px;\n}\n\n.stat-label {\n  font-weight: bold;\n}\n\n.webgazerVideoContainer {\n  position: fixed;\n  top: 10px;\n  left: 10px;\n  width: 200px;\n  height: 150px;\n  border: 2px solid #2c3e50;\n  border-radius: 8px;\n  z-index: 1000;\n}\n\n.webgazerVideoContainer video {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=10d320c8\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=10d320c8&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\n\nVue.config.productionTip = false\nVue.use(ElementUI)\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkdemo\"] = self[\"webpackChunkdemo\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(900); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticStyle","staticClass","ref","_v","_s","gazeDuration","a","b","c","f","g","loading","_e","class","userType","stats","medianSaccade","toFixed","entropy","coverage","medianGazeDuration","gazeCount","staticRenderFns","UserClassificationService","zoomArea","area","scale","validAreas","errorMsg","Object","keys","join","console","error","Error","onZoomChange","warn","state","log","window","updateZoomState","resetZoom","zoomState","zoomedArea","timestamp","Date","now","onZoomReset","constructor","screenConfig","diagonalInches","resolution","width","height","ppi","aoiRatios","bf","confirmationState","direct","referential","exploratory","lastConfirmedType","config","windowSize","entropyThresholds","low","high","coverageThresholds","directMax","referentialMin","referentialMax","exploratoryMin","gazeDurationThresholds","short","long","saccadeThresholds","small","medium","large","confirmationWindows","currentWindow","startTime","gazeData","aoiStats","count","duration","saccadeAmplitudes","addGazePoint","data","aoi","determineAOI","x","y","length","lastValidPoint","slice","reverse","find","amplitude","Math","sqrt","pow","push","windowDuration","result","classifyUser","JSON","stringify","screenWidth","aWidth","cWidth","totalGazeCount","values","reduce","sum","stat","totalGazeDuration","aoiProportions","entries","countProportion","durationProportion","rawCount","rawDuration","calculateMedian","calculateEntropy","map","p","filter","gazeDurations","densityMetrics","cProportion","cDensity","density","abs","lastClassificationStats","uiRecommendation","getUIRecommendation","toISOString","_diagnostics","cDuration","totalDuration","proportions","saccade","maxDurationEntry","includes","thresholds","minCombined","maxDensityDiff","minDuration","actualValues","bProportion","bDensity","densityDiff","metConditions","resetWindow","type","log2","sorted","sort","middle","floor","layout","description","components","taskPanel","visible","collapsed","outputPanel","split","newWindow","validData","forEach","getLastClassification","userClassificationService","WebGazerService","isInitialized","retryCount","maxRetries","init","loadScript","webgazer","setRegression","setTracker","begin","Promise","resolve","setTimeout","async","reject","script","document","createElement","src","onload","onerror","head","appendChild","webgazerService","name","gazeStartTime","currentZoom","gazeTimer","userTypeHistory","mounted","$nextTick","setupEyeTracking","beforeUnmount","clearInterval","clearGazeListener","stopVideo","stop","methods","video","getElementById","style","display","position","top","left","zIndex","border","borderRadius","setGazeListener","elapsedTime","checkGazePosition","setInterval","determineZoomArea","err","showErrorNotification","$notify","title","message","showClose","boxes","$refs","boxA","getBoundingClientRect","boxB","boxC","currentAOI","box","right","bottom","$set","$forceUpdate","maxArea","resetAllZoom","toUpperCase","transform","transition","component","Vue","productionTip","use","ElementUI","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","id","loaded","__webpack_modules__","call","m","amdO","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","key","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","value","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}